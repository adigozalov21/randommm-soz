<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Azərbaycanca Söz Generatoru</title>
<style>
  body { font-family: Arial, sans-serif; max-width: 900px; margin: 20px auto; }
  h1 { text-align: center; }
  .filters, .finder, .add-word { margin: 20px 0; }
  label { margin-right: 10px; }
  select, input[type="text"], input[type="number"] { margin-right: 10px; padding: 5px; }
  button { padding: 5px 15px; }
  .result, .pattern-result, .add-word-result { margin-top: 10px; font-weight: bold; }
  .pattern-inputs { display: flex; gap: 5px; margin-top: 10px; }
  .pattern-inputs input { width: 30px; height: 30px; text-align: center; font-size: 16px; }
  .word-list { margin-top: 10px; }
  .word-list span { display: inline-block; margin: 3px 5px; padding: 3px 6px; background: #f0f0f0; border-radius: 4px; }
</style>
</head>
<body>

<h1>Azərbaycanca Söz Generatoru</h1>

<!-- FILTERS SECTION -->
<div class="filters">
  <label>Type:
    <select id="filter-type">
      <option value="">Any</option>
      <option value="noun">Noun</option>
      <option value="verb">Verb</option>
      <option value="adjective">Adjective</option>
    </select>
  </label>

  <label>Syllables:
    <input type="number" id="filter-syllables" min="1" max="10">
  </label>

  <label>Starts with:
    <input type="text" id="filter-starts" maxlength="5">
  </label>

  <label>Ends with:
    <input type="text" id="filter-ends" maxlength="5">
  </label>

  <label>Contains:
    <input type="text" id="filter-contains" maxlength="5">
  </label>

  <button id="generate-btn">Generate Word</button>
  <div class="result" id="generate-result"></div>
</div>

<!-- WORD FINDER SECTION -->
<div class="finder">
  <h3>Word Finder (Crossword-style)</h3>
  <div class="pattern-inputs" id="pattern-inputs">
    <!-- 10 input boxes -->
    <input type="text" maxlength="1"><input type="text" maxlength="1">
    <input type="text" maxlength="1"><input type="text" maxlength="1">
    <input type="text" maxlength="1"><input type="text" maxlength="1">
    <input type="text" maxlength="1"><input type="text" maxlength="1">
    <input type="text" maxlength="1"><input type="text" maxlength="1">
  </div>
  <button id="find-pattern-btn">Find Words</button>
  <div class="pattern-result" id="pattern-result"></div>
</div>

<!-- ADD WORD SECTION -->
<div class="add-word">
  <h3>Add New Word</h3>
  <input type="text" id="new-word-text" placeholder="Word">
  <select id="new-word-type">
    <option value="noun">Noun</option>
    <option value="verb">Verb</option>
    <option value="adjective">Adjective</option>
  </select>
  <input type="number" id="new-word-syllables" min="1" max="10" placeholder="Syllables">
  <button id="add-word-btn">Add Word</button>
  <div class="add-word-result" id="add-word-result"></div>
</div>

<script>
// 300 Azerbaijani words (just words, type & syllables default to noun & 2)
const WORDS = [
"alma","armud","heyva","bazar","maşın","ev","kitab","qələm","dəftər","pəncərə",
"qapı","yol","küçə","mahalle","kənd","şəhər","dağ","təpə","dərə","çay",
"göl","dəniz","günəş","ay","ulduz","bulud","yağış","qar","külək","hava",
"saat","gün","gecə","milli","dost","qardaş","bacı","ana","ata",
"uşaq","qız","oğlan","qoca","yaşlı","gənc","insan","adam","ailə","otaq",
"yataq","stol","stul","divar","tavan","mətbəx","telefon","kompyuter","internet","şəbəkə",
"ölkə","dil","söz","cümlə","dostluq","sevgi","məhəbbət","həyat","xəyat","arzu",
"ümid","xəbər","sual","cavab","fikirlər","zaman","vaxt","dəqiqə","saniyə","iş",
"məşğuliyyət","məktəb","müəllim","tələbə","kitabxana","sinif","test","imtahan","nəticə","uğur",
"məqsəd","hədəf","addım","səyahət","yolçu","qatar","avtomobil","avtobus","təyyarə","gəmi",
"kartof","pomidor","sogan","çörək","su","çay","kofe","şorba","quyu","göyərti",
"meyvə","tərəvəz","şirniyyat","şəkər","duz","isti","soyuq","çox","az","böyük",
"kiçik","uzun","qısa","yeni","köhnə","gözəl","son","ilk","sürətli","yavaş",
"yaxşı","pis","həmişə","tez","gec","sabah","bu gün","dünən","keçmiş","gələcək",
"indi","bəzi","hər","hər kəs","heç kim","yaxın","uzaq","yaxşılıq","pislik","doğru",
"səhv","həqiqət","yalan","sükut","səs","bax","gör","eşit","danış","yaz",
"oxu","get","gətir","düşün","bil","bilmək","anla","şaşır","gül","ağla",
"sevin","qorxa","xoşbəxt","qəmli","sevincli","kədərli","ac","tox","su iç","yemək",
"yat","oyan","yaddaş","xatirə","xatırlamaq","unut","xoş","təhlükəsiz","sakit","səsli",
"qaranlıq","işıq","işıqlı","qar","icesiz","istirahət","istirahət et","hərəkət","dur","otur",
"getmək","gəlmək","qalmaq","çalış","rinf","rəng","qırmızı","yaşıl","mavi","ağ",
"qara","sarı","boz","rəngli","rəngsiz","musıqı","mahnı","melodiya","ritm","ritmik",
"yanaş","addımla","orta","geri","irəli","sol","sağ","yuxarı","aşağı","yuxarıda",
"aşağıda","içəri","xaric","ətraf","qəlb","ruh","bədən","baş","ayaq","əl","barmaq",
"göz","qulaq","burun","ağız","diş","saç","ürək","qan","beyin","əziz","sevilən",
"əzizlər","qohum","baba","nənə"
].map(w => ({ text: w, type:"noun", syllables:2 }));

// UNIVERSAL FILTER FUNCTION
function searchWords(filters = {}) {
  return WORDS.filter(word => {
    if (filters.type && word.type !== filters.type) return false;
    if (filters.syllables && word.syllables !== filters.syllables) return false;
    if (filters.startsWith && !word.text.startsWith(filters.startsWith)) return false;
    if (filters.endsWith && !word.text.endsWith(filters.endsWith)) return false;
    if (filters.contains && !word.text.includes(filters.contains)) return false;
    if (filters.pattern && filters.pattern.length > 0) {
      if (word.text.length !== filters.pattern.length) return false;
      for (let i = 0; i < filters.pattern.length; i++) {
        const letter = filters.pattern[i];
        if (letter && word.text[i] !== letter) return false;
      }
    }
    return true;
  });
}

// GENERATE RANDOM WORD
document.getElementById("generate-btn").addEventListener("click", () => {
  const type = document.getElementById("filter-type").value;
  const syllables = parseInt(document.getElementById("filter-syllables").value) || null;
  const startsWith = document.getElementById("filter-starts").value.trim();
  const endsWith = document.getElementById("filter-ends").value.trim();
  const contains = document.getElementById("filter-contains").value.trim();

  const filtered = searchWords({ type, syllables, startsWith, endsWith, contains });
  if (filtered.length > 0) {
    const word = filtered[Math.floor(Math.random() * filtered.length)];
    document.getElementById("generate-result").innerText = word.text;
  } else {
    document.getElementById("generate-result").innerText = "No matching word found.";
  }
});

// WORD FINDER (CROSSWORD STYLE)
document.getElementById("find-pattern-btn").addEventListener("click", () => {
  const inputs = Array.from(document.querySelectorAll("#pattern-inputs input"));
  const pattern = inputs.map(input => input.value.trim().toLowerCase() || null);
  while(pattern.length && pattern[pattern.length -1] === null) pattern.pop();

  const result = searchWords({ pattern });
  const display = document.getElementById("pattern-result");
  if (result.length > 0) {
    display.innerHTML = result.map(w => `<span>${w.text}</span>`).join("");
  } else {
    display.innerText = "No matching words found.";
  }
});

// ADD NEW WORD FUNCTION
function addWord(newWord) {
  const exists = WORDS.some(w => w.text === newWord.text);
  if (!exists) {
    WORDS.push(newWord);
    return `${newWord.text} added successfully.`;
  } else {
    return `${newWord.text} already exists.`;
  }
}

document.getElementById("add-word-btn").addEventListener("click", () => {
  const text = document.getElementById("new-word-text").value.trim().toLowerCase();
  const type = document.getElementById("new-word-type").value;
  const syllables = parseInt(document.getElementById("new-word-syllables").value);

  if (!text || !type || !syllables) {
    document.getElementById("add-word-result").innerText = "Please fill all fields.";
    return;
  }

  const message = addWord({ text, type, syllables });
  document.getElementById("add-word-result").innerText = message;
});
</script>
</body>
</html>
